(this["webpackJsonpsebbia-task"]=this["webpackJsonpsebbia-task"]||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c,i,r,a=n(0),s=n.n(a),o=n(18),u=n.n(o),d=n(12),j=n(17),l=n(13),b=Object(d.b)("categories/fetchCategories",(function(e,t){return fetch(e).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return e}))})),f=Object(d.c)({name:"categories",initialState:{code:null,list:null,isLoaded:!1,error:null},extraReducers:(c={},Object(l.a)(c,b.pending,(function(e){e.isLoaded=!0})),Object(l.a)(c,b.fulfilled,(function(e,t){e.list=t.payload.list,e.code=t.payload.code})),Object(l.a)(c,b.rejected,(function(e,t){e.isLoaded=!1,e.error=t.payload})),c)}).reducer,O=n(25),h=Object(d.b)("categories/fetchNews",(function(e,t){return fetch(e).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return e}))})),g=Object(d.c)({name:"news",initialState:{code:null,list:null,isLoaded:!1,error:null,currentCategoryID:0,selectedNews:0,paginationActivity:{}},reducers:{setCategoryID:function(e,t){e.currentCategoryID=t.payload},setSelectedNews:function(e,t){e.selectedNews=t.payload},setPaginationActivity:function(e,t){e.paginationActivity=Object(O.a)(Object(O.a)({},e.paginationActivity),t.payload)}},extraReducers:(i={},Object(l.a)(i,h.pending,(function(e){e.isLoaded=!0})),Object(l.a)(i,h.fulfilled,(function(e,t){e.list=t.payload.list,e.code=t.payload.code})),Object(l.a)(i,h.rejected,(function(e,t){e.isLoaded=!1,e.error=t.payload})),i)}),m=g.actions,p=g.reducer,x=m.setCategoryID,y=m.setSelectedNews,w=m.setPaginationActivity,v=p,N=Object(d.b)("details/fetchDetails",(function(e,t){return fetch(e).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return e}))})),D=Object(d.c)({name:"details",initialState:{code:null,news:null,isLoaded:!1,error:null},reducers:{setNews:function(e,t){e.news=t.payload}},extraReducers:(r={},Object(l.a)(r,N.pending,(function(e){e.isLoaded=!0})),Object(l.a)(r,N.fulfilled,(function(e,t){e.news=t.payload.news,e.code=t.payload.code})),Object(l.a)(r,N.rejected,(function(e,t){e.isLoaded=!1,e.error=t.payload})),r)}),L=D.actions,P=D.reducer,k=L.setNews,C=P,E=Object(d.c)({name:"design",initialState:{namePage:""},reducers:{setNamePage:function(e,t){e.namePage=t.payload}}}),A=E.actions,I=E.reducer,S=A.setNamePage,F=I,T=Object(j.c)({categories:f,news:v,details:C,design:F});var R=Object(d.a)({reducer:T}),J=n(19),_=(n(61),n(32)),B=n(7),H=(n(62),n(80)),M=n(89),q=n(81),z=n(82),G=n(83),K=n(2);var Q=Object(J.b)((function(e){return{categories:e.categories.list,isLoaded:e.categories.isLoaded}}),(function(e){return{fetchCategories:function(t){return e(b(t))},setCategoryID:function(t){return e(x(t))},setNamePage:function(t){return e(S(t))}}}))((function(e){var t=e.isLoaded,n=e.categories,c=e.fetchCategories,i=e.setCategoryID,r=e.setNamePage,s=Object(B.g)();Object(a.useEffect)((function(){t||c("https://testtask.sebbia.com/v1/news/categories")})),Object(a.useEffect)((function(){r("\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438")}));var o=function(){return Object(K.jsx)(H.a,{})},u=function(e){var t=e.category;return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(M.a,{button:!0,onClick:function(){i(t.id),s.push("/news/".concat(t.id))},children:Object(K.jsx)(q.a,{primary:t.name})}),Object(K.jsx)(z.a,{})]})},d=function(){return Object(K.jsx)(G.a,{children:n.map((function(e){return Object(K.jsx)(u,{category:e},e.id)}))})};return n?Object(K.jsx)(d,{}):Object(K.jsx)(o,{})})),U=n(47),V=n(34),W=n(84);n(65);function X(e){var t=e.increment,n=e.decrement,c=e.type;return Object(K.jsxs)("div",{children:[Object(K.jsx)(W.a,{variant:"contained",color:"primary",disabled:!c.decrement,onClick:n,className:"pagination--button-back",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(K.jsx)(W.a,{variant:"contained",color:"primary",disabled:!c.increment,onClick:t,className:"pagination--button-forward",children:"\u0412\u043f\u0435\u0440\u0451\u0434"})]})}var Y=Object(J.b)((function(e){return{list:e.news.list,isLoaded:e.news.isLoaded,currentCategoryID:e.news.currentCategoryID,paginationActivity:e.news.paginationActivity}}),(function(e){return{fetchNews:function(t){return e(h(t))},setSelectedNews:function(t){return e(y(t))},setPaginationActivity:function(t){return e(w(t))},setNamePage:function(t){return e(S(t))},setNews:function(t){return e(k(t))}}}))((function(e){var t=e.list,n=e.fetchNews,c=e.currentCategoryID,i=e.setSelectedNews,r=e.setPaginationActivity,o=e.paginationActivity,u=e.setNamePage,d=e.setNews,j=Object(a.useState)(0),l=Object(U.a)(j,2),b=l[0],f=l[1],h=Object(B.g)();Object(a.useEffect)((function(){n("https://testtask.sebbia.com/v1/news/categories/".concat(c,"/news?page=").concat(b))}),[c,b,n]),Object(a.useEffect)((function(){r(Object(O.a)(Object(O.a)({},o),{},{decrement:!!b}))}),[b,r]),Object(a.useEffect)((function(){fetch("https://testtask.sebbia.com/v1/news/categories/".concat(c,"/news?page=").concat(b+1)).then((function(e){return e.json().then((function(e){e.list&&e.list.length>0?r({increment:!0}):r({increment:!1})}))}))}),[b,c,r]),Object(a.useEffect)((function(){u("\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439")}));var g=function(){return Object(K.jsx)(H.a,{})},m=function(){return Object(K.jsx)("div",{className:"empty",children:"\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"})},p=function(e){var t=e.item;return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(M.a,{button:!0,onClick:function(){i(t.id),d({title:t.title,shortDescription:t.shortDescription}),h.push("/details")},children:Object(K.jsx)(q.a,{primary:t.title,secondary:Object(K.jsxs)(s.a.Fragment,{children:[Object(K.jsx)(V.a,{component:"span",variant:"body2",color:"textPrimary",children:t.shortDescription}),Object(K.jsx)("br",{}),new Date(t.date).toLocaleString("ru",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})]})})}),Object(K.jsx)(z.a,{})]})},x=function(){return Object(K.jsx)(K.Fragment,{children:0!==t.length?Object(K.jsx)(G.a,{children:t.map((function(e){return Object(K.jsx)(p,{item:e},e.id)}))}):Object(K.jsx)(m,{})})};return Object(K.jsxs)(K.Fragment,{children:[t?Object(K.jsx)(x,{}):Object(K.jsx)(g,{}),Object(K.jsx)(X,{increment:function(){f(b+1)},decrement:function(){f(0!==b?b-1:0)},type:o})]})})),Z=n(85),$=n(86);var ee=Object(J.b)((function(e){return{news:e.details.news,isLoaded:e.details.isLoaded,selectedNews:e.news.selectedNews}}),(function(e){return{fetchDetails:function(t){return e(N(t))},setNamePage:function(t){return e(S(t))}}}))((function(e){var t=e.news,n=e.fetchDetails,c=e.selectedNews,i=e.setNamePage;Object(a.useEffect)((function(){n("https://testtask.sebbia.com/v1/news/details?id=".concat(c))}),[c,n]),Object(a.useEffect)((function(){i("\u0414\u0435\u0442\u0430\u043b\u0438")}));var r=function(){return Object(K.jsx)(H.a,{})},s=function(){return Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(Z.a,{children:Object(K.jsxs)($.a,{children:[Object(K.jsx)(V.a,{variant:"h4",component:"h2",children:t.title}),Object(K.jsx)(V.a,{variant:"body1",children:t.shortDescription}),Object(K.jsx)("div",{dangerouslySetInnerHTML:{__html:t.fullDescription}})]})})})};return t?Object(K.jsx)(s,{}):Object(K.jsx)(r,{})})),te=n(87),ne=n(88);var ce=Object(J.b)((function(e){return{namePage:e.design.namePage}}),(function(e){return{}}))((function(e){return Object(K.jsxs)("div",{className:"App",children:[Object(K.jsx)(te.a,{position:"static",children:Object(K.jsx)(ne.a,{children:Object(K.jsx)(V.a,{variant:"h6",children:e.namePage})})}),Object(K.jsx)(_.a,{children:Object(K.jsxs)(B.d,{children:[Object(K.jsx)(B.b,{path:"/categories",component:Q}),Object(K.jsx)(B.b,{path:"/news/:id",component:Y}),Object(K.jsx)(B.b,{path:"/details",component:ee}),Object(K.jsx)(B.a,{push:!0,to:"/categories"})]})})]})}));u.a.render(Object(K.jsx)(J.a,{store:R,children:Object(K.jsx)(ce,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.1026c2d9.chunk.js.map
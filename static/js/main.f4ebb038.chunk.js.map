{"version":3,"sources":["redux/slices/categories.js","redux/slices/news.js","redux/slices/details.js","redux/slices/design.js","redux/rootReducer.js","redux/store.js","pages/categories.js","components/pagination/pagination.js","pages/news.js","pages/details.js","App.js","index.js"],"names":["fetchCategories","createAsyncThunk","endPoint","thunkAPI","fetch","then","res","ok","Error","statusText","json","categoriesSlice","createSlice","name","initialState","code","list","isLoaded","error","extraReducers","pending","state","fulfilled","action","payload","rejected","fetchNews","newsSlice","currentCategoryID","selectedNews","paginationActivity","reducers","setCategoryID","setSelectedNews","setPaginationActivity","actions","reducer","fetchDetails","detailsSlice","news","setNews","designSlice","namePage","setNamePage","rootReducer","combineReducers","categories","categoriesSliceReducer","newsSliceReducer","details","detailsSliceReducer","design","designSliceReducer","store","configureStore","connect","dispatch","id","props","history","useHistory","useEffect","Stub","CircularProgress","Row","category","ListItem","button","onClick","push","ListItemText","primary","Divider","ListCategories","List","map","Pagination","increment","decrement","type","Button","variant","color","disabled","className","useState","currentPage","setCurrentPage","length","Empty","item","title","shortDescription","secondary","Fragment","Typography","component","Date","date","toLocaleString","year","month","day","hour","minute","second","ListNews","Details","Card","CardContent","dangerouslySetInnerHTML","__html","fullDescription","AppBar","position","Toolbar","path","CategoriesPage","NewsPage","DetailsPage","to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f4ebb038.chunk.js","sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchCategories = createAsyncThunk(\r\n  \"categories/fetchCategories\",\r\n  (endPoint, thunkAPI) => {\r\n    return fetch(endPoint)\r\n      .then((res) => {\r\n        if (!res.ok) throw Error(res.statusText);\r\n        return res.json();\r\n      })\r\n      .then((res) => res);\r\n  }\r\n);\r\n\r\nconst categoriesSlice = createSlice({\r\n  name: \"categories\",\r\n  initialState: { code: null, list: null, isLoaded: false, error: null },\r\n  extraReducers: {\r\n    [fetchCategories.pending]: (state) => {\r\n      state.isLoaded = true;\r\n    },\r\n    [fetchCategories.fulfilled]: (state, action) => {\r\n      state.list = action.payload.list;\r\n      state.code = action.payload.code;\r\n    },\r\n    [fetchCategories.rejected]: (state, action) => {\r\n      state.isLoaded = false;\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default categoriesSlice.reducer;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchNews = createAsyncThunk(\r\n  \"categories/fetchNews\",\r\n  (endPoint, thunkAPI) => {\r\n    return fetch(endPoint)\r\n      .then((res) => {\r\n        if (!res.ok) throw Error(res.statusText);\r\n        return res.json();\r\n      })\r\n      .then((res) => res);\r\n  }\r\n);\r\n\r\nconst newsSlice = createSlice({\r\n  name: \"news\",\r\n  initialState: {\r\n    code: null,\r\n    list: null,\r\n    isLoaded: false,\r\n    error: null,\r\n    currentCategoryID: 0,\r\n    selectedNews:0,\r\n    paginationActivity:{}\r\n  },\r\n  reducers: {\r\n    setCategoryID: (state, action) => {\r\n      state.currentCategoryID = action.payload;\r\n    },\r\n    setSelectedNews: (state, action) => {\r\n      state.selectedNews = action.payload;\r\n    },\r\n    setPaginationActivity: (state, action) => {\r\n      state.paginationActivity = {...state.paginationActivity, ...action.payload};\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchNews.pending]: (state) => {\r\n      state.isLoaded = true;\r\n    },\r\n    [fetchNews.fulfilled]: (state, action) => {\r\n      state.list = action.payload.list;\r\n      state.code = action.payload.code;\r\n    },\r\n    [fetchNews.rejected]: (state, action) => {\r\n      state.isLoaded = false;\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nconst { actions, reducer } = newsSlice;\r\n\r\nexport const { setCategoryID, setSelectedNews, setPaginationActivity } = actions;\r\n\r\nexport default reducer;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchDetails = createAsyncThunk(\r\n  \"details/fetchDetails\",\r\n  (endPoint, thunkAPI) => {\r\n    return fetch(endPoint)\r\n      .then((res) => {\r\n        if (!res.ok) throw Error(res.statusText);\r\n        return res.json();\r\n      })\r\n      .then((res) => res);\r\n  }\r\n);\r\n\r\nconst detailsSlice = createSlice({\r\n  name: \"details\",\r\n  initialState: { code: null, news: null, isLoaded: false, error: null },\r\n  reducers: {\r\n    setNews: (state, action) => {\r\n      state.news = action.payload;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchDetails.pending]: (state) => {\r\n      state.isLoaded = true;\r\n    },\r\n    [fetchDetails.fulfilled]: (state, action) => {\r\n      state.news = action.payload.news;\r\n      state.code = action.payload.code;\r\n    },\r\n    [fetchDetails.rejected]: (state, action) => {\r\n      state.isLoaded = false;\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n\r\nconst { actions, reducer } = detailsSlice;\r\n\r\nexport const {setNews} = actions;\r\n\r\nexport default reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst designSlice = createSlice({\r\n  name: \"design\",\r\n  initialState: { namePage:\"\" },\r\n  reducers: {\r\n    setNamePage: (state, action) => {\r\n      state.namePage = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nconst { actions, reducer } = designSlice;\r\n\r\nexport const { setNamePage} = actions;\r\n\r\nexport default reducer;\r\n","import { combineReducers } from \"@reduxjs/toolkit\";\r\n\r\nimport categoriesSliceReducer from \"./slices/categories\";\r\nimport newsSliceReducer from \"./slices/news\";\r\nimport detailsSliceReducer from \"./slices/details\";\r\nimport designSliceReducer from \"./slices/design\";\r\n\r\nconst rootReducer = combineReducers({\r\n  categories: categoriesSliceReducer,\r\n  news: newsSliceReducer,\r\n  details: detailsSliceReducer,\r\n  design: designSliceReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nimport rootReducer from \"./rootReducer\";\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n});\r\n\r\nif (process.env.NODE_ENV === \"development\" && module.hot) {\r\n  module.hot.accept(\"./rootReducer\", () => {\r\n    const newRootReducer = require(\"./rootReducer\").default;\r\n    store.replaceReducer(newRootReducer);\r\n  });\r\n}\r\n\r\nexport default store;\r\n","import React, { useEffect } from \"react\";\r\nimport { List, ListItem, ListItemText, Divider, CircularProgress } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { fetchCategories } from \"../redux/slices/categories\";\r\nimport { setCategoryID } from \"../redux/slices/news\";\r\nimport { setNamePage } from \"../redux/slices/design\";\r\n\r\nfunction CategoriesPage(props) {\r\n  const { isLoaded, categories, fetchCategories, setCategoryID, setNamePage } = props;\r\n\r\n  let history = useHistory(); \r\n\r\n  useEffect(() => {\r\n    if (!isLoaded)\r\n      fetchCategories(\"http://testtask.sebbia.com/v1/news/categories\");\r\n  });\r\n\r\n  useEffect(() => {\r\n    setNamePage(\"Категории\");\r\n  });\r\n\r\n  const Stub = () => {\r\n    return <CircularProgress/> ;\r\n  };\r\n\r\n  const Row = ({ category }) => {\r\n    const handleClick = () => {\r\n      setCategoryID(category.id);\r\n      history.push(`/news/${category.id}`);\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <ListItem button onClick={handleClick}>\r\n          <ListItemText primary={category.name} />\r\n        </ListItem>\r\n        <Divider />\r\n      </>\r\n    );\r\n  };\r\n\r\n  const ListCategories = () => {\r\n    return (\r\n      <List>\r\n        {categories.map((category) => {\r\n          return <Row key={category.id} category={category} />;\r\n        })}\r\n      </List>\r\n    );\r\n  };\r\n\r\n  return categories ? <ListCategories /> : <Stub />;\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    categories: state.categories.list,\r\n    isLoaded: state.categories.isLoaded,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    fetchCategories: (endPoint) => dispatch(fetchCategories(endPoint)),\r\n    setCategoryID: (id) => dispatch(setCategoryID(id)),\r\n    setNamePage: (namePage) => dispatch(setNamePage(namePage)),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoriesPage);\r\n","import React from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nimport \"./pagination.scss\";\r\n\r\nexport default function Pagination({ increment, decrement, type }) {\r\n  return (\r\n    <div>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        disabled={!type.decrement}\r\n        onClick={decrement}\r\n        className=\"pagination--button-back\"\r\n      >\r\n        Назад\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        disabled={!type.increment}\r\n        onClick={increment}\r\n        className=\"pagination--button-forward\"\r\n      >\r\n        Вперёд\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Divider,\r\n  CircularProgress,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  fetchNews,\r\n  setSelectedNews,\r\n  setPaginationActivity,\r\n} from \"../redux/slices/news\";\r\n\r\nimport { setNews } from \"../redux/slices/details\";\r\nimport { setNamePage } from \"../redux/slices/design\";\r\nimport Pagination from \"../components/pagination/pagination\";\r\n\r\nfunction NewsPage(props) {\r\n  const {\r\n    list,\r\n    fetchNews,\r\n    currentCategoryID,\r\n    setSelectedNews,\r\n    setPaginationActivity,\r\n    paginationActivity,\r\n    setNamePage,\r\n    setNews,\r\n  } = props;\r\n\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchNews(\r\n      `http://testtask.sebbia.com/v1/news/categories/${currentCategoryID}/news?page=${currentPage}`\r\n    );\r\n  }, [currentCategoryID, currentPage, fetchNews]);\r\n\r\n  useEffect(() => {\r\n    setPaginationActivity({ ...paginationActivity, decrement: !!currentPage });\r\n  }, [currentPage, setPaginationActivity]);\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `http://testtask.sebbia.com/v1/news/categories/${currentCategoryID}/news?page=${\r\n        currentPage + 1\r\n      }`\r\n    ).then((res) => {\r\n      return res.json().then((res) => {\r\n        if (res.list && res.list.length > 0) {\r\n          setPaginationActivity({ increment: true });\r\n        } else {\r\n          setPaginationActivity({ increment: false });\r\n        }\r\n      });\r\n    });\r\n  }, [currentPage, currentCategoryID, setPaginationActivity]);\r\n\r\n  useEffect(() => {\r\n    setNamePage(\"Список новостей\");\r\n  });\r\n\r\n  const Stub = () => {\r\n    return <CircularProgress />;\r\n  };\r\n\r\n  const Empty = () => {\r\n    return <div className=\"empty\">В данной категории пока нет новостей</div>;\r\n  };\r\n\r\n  const Row = ({ item }) => {\r\n    const handleClick = () => {\r\n      setSelectedNews(item.id);\r\n      setNews({ title: item.title, shortDescription: item.shortDescription });\r\n      history.push(\"/details\");\r\n    };\r\n\r\n    var options = {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n      hour: \"numeric\",\r\n      minute: \"numeric\",\r\n      second: \"numeric\",\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <ListItem button onClick={handleClick}>\r\n          <ListItemText\r\n            primary={item.title}\r\n            secondary={\r\n              <React.Fragment>\r\n                <Typography\r\n                  component=\"span\"\r\n                  variant=\"body2\"\r\n                  color=\"textPrimary\"\r\n                >\r\n                  {item.shortDescription}\r\n                </Typography>\r\n                <br />\r\n                {new Date(item.date).toLocaleString(\"ru\", options)}\r\n              </React.Fragment>\r\n            }\r\n          />\r\n        </ListItem>\r\n        <Divider />\r\n      </>\r\n    );\r\n  };\r\n\r\n  const ListNews = () => {\r\n    return (\r\n      <>\r\n        {list.length !== 0 ? (\r\n          <List>\r\n            {list.map((item) => {\r\n              return <Row key={item.id} item={item} />;\r\n            })}\r\n          </List>\r\n        ) : (\r\n          <Empty />\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const incrementHandler = () => {\r\n    setCurrentPage(currentPage + 1);\r\n  };\r\n\r\n  const decrementHandler = () => {\r\n    if (currentPage !== 0) {\r\n      setCurrentPage(currentPage - 1);\r\n    } else {\r\n      setCurrentPage(0);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {list ? <ListNews /> : <Stub />}\r\n      <Pagination\r\n        increment={incrementHandler}\r\n        decrement={decrementHandler}\r\n        type={paginationActivity}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    list: state.news.list,\r\n    isLoaded: state.news.isLoaded,\r\n    currentCategoryID: state.news.currentCategoryID,\r\n    paginationActivity: state.news.paginationActivity,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    fetchNews: (endPoint) => dispatch(fetchNews(endPoint)),\r\n    setSelectedNews: (id) => dispatch(setSelectedNews(id)),\r\n    setPaginationActivity: (paginationActivity) =>\r\n      dispatch(setPaginationActivity(paginationActivity)),\r\n    setNamePage: (namePage) => dispatch(setNamePage(namePage)),\r\n    setNews: (news) => dispatch(setNews(news)),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NewsPage);\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Card,\r\n  CircularProgress,\r\n  Typography,\r\n  CardContent,\r\n} from \"@material-ui/core\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { fetchDetails } from \"../redux/slices/details\";\r\nimport { setNamePage } from \"../redux/slices/design\";\r\n\r\nfunction DetailsPage(props) {\r\n  const { news, fetchDetails, selectedNews, setNamePage } = props;\r\n\r\n  useEffect(() => {\r\n    fetchDetails(\r\n      `http://testtask.sebbia.com/v1/news/details?id=${selectedNews}`\r\n    );\r\n  }, [selectedNews, fetchDetails]);\r\n\r\n  useEffect(() => {\r\n    setNamePage(\"Детали\");\r\n  });\r\n\r\n  const Stub = () => {\r\n    return <CircularProgress />;\r\n  };\r\n\r\n  const Details = () => {\r\n    return (\r\n      <>\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"h4\" component=\"h2\">\r\n              {news.title}\r\n            </Typography>\r\n            <Typography variant=\"body1\">{news.shortDescription}</Typography>\r\n            <div\r\n              dangerouslySetInnerHTML={{ __html: news.fullDescription }}\r\n            ></div>\r\n          </CardContent>\r\n        </Card>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return news ? <Details /> : <Stub />;\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    news: state.details.news,\r\n    isLoaded: state.details.isLoaded,\r\n    selectedNews: state.news.selectedNews,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    fetchDetails: (endPoint) => dispatch(fetchDetails(endPoint)),\r\n    setNamePage: (namePage) => dispatch(setNamePage(namePage)),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailsPage);\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport \"./App.scss\";\r\nimport CategoriesPage from \"./pages/categories\";\r\nimport NewsPage from \"./pages/news\";\r\nimport DetailsPage from \"./pages/details\";\r\nimport { AppBar, Toolbar, Typography} from \"@material-ui/core\";\r\n\r\nfunction App(props) {\r\n  return (\r\n    <div className=\"App\">\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\">\r\n            {props.namePage}\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/categories\" component={CategoriesPage} />\r\n          <Route path=\"/news/:id\" component={NewsPage} />\r\n          <Route path=\"/details\" component={DetailsPage} />\r\n          <Redirect push to=\"/categories\" />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    namePage: state.design.namePage,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\n\nimport \"./index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}